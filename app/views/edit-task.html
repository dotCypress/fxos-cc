<section role="region">
  <header>
    <button data-ng-click="close()"><span class="icon icon-close">close</span></button>
    <menu type="toolbar">
      <button class="danger" data-ng-show="isExisting" data-ng-click="showConfirmation=true">Delete</button>
      <button data-ng-click="save()">Done</button>
    </menu>
    <h1>Task</h1>
  </header>
</section>
<section role="region" class="view with-toolbar">
  <form class="editor">
    <h2>Task details</h2>
    <fieldset data-ng-class="{'error': error}">
      <legend>Name</legend>
      <section>
        <p>
          <textarea data-ng-model="task.name" type="text" placeholder="Name" rows="4"></textarea>
          <button type="reset">Clear</button>
        </p>
      </section>
    </fieldset>
    <fieldset>
      <legend>Memo</legend>
      <section>
        <p>
          <input data-ng-model="task.memo" type="text" placeholder="Memo">
          <button type="reset">Clear</button>
        </p>
      </section>
    </fieldset>

    <h2>Project</h2>
    <select data-ng-model="task.projectId" data-ng-options="p._id as p.name for p in projects">
    </select>

    <h2>Context</h2>
    <select data-ng-model="task.contextId" data-ng-options="c._id as c.name for c in contexts">
      <option value="">-- without context --</option>
    </select>

    <h2>Start</h2>
    <input data-ng-model="task.startDate" type="date" placeholder="Start" dateFix>

    <h2>Due</h2>
    <input data-ng-model="task.dueDate" type="date" placeholder="Due" dateFix>

  </form>
</section>
<form role="dialog" data-type="confirm" data-ng-show="showConfirmation">
  <section>
    <h1>Confirmation</h1>
    <p>Are you sure you want to delete this task?</p>
  </section>
  <menu>
    <button class="danger" data-ng-click="delete()">Delete</button>
    <button data-ng-click="showConfirmation=false">Cancel</button>
  </menu>
</form>

