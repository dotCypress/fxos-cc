<section role="region">
  <header>
    <button data-ng-click="close()"><span class="icon icon-close">close</span></button>
    <menu type="toolbar">
      <button class="danger" data-ng-show="isExisting" data-ng-click="showConfirmation=true">Delete</button>
      <button data-ng-click="save()">Done</button>
    </menu>
    <h1>Task</h1>
  </header>
</section>
<section role="region" class="view with-toolbar task-editor">
  <form class="editor">
    <h2>Task details</h2>
    <fieldset data-ng-class="{'error': error}">
      <legend>Name</legend>
      <section>
        <p>
          <textarea data-ng-model="task.name" type="text" placeholder="Name" rows="4"></textarea>
          <button type="reset">Clear</button>
        </p>
      </section>
    </fieldset>
    <fieldset>
      <legend>Memo</legend>
      <section>
        <p>
          <input data-ng-model="task.memo" type="text" placeholder="Memo">
          <button type="reset">Clear</button>
        </p>
      </section>
    </fieldset>

    <fieldset id="parents">
     <legend>Project</legend>
      <section>
        <p>
          <input type="text" onclick="document.getElementById('projectSelector').focus()" readonly="readonly" data-ng-model="projectName" >
          <select id="projectSelector" data-ng-model="task.projectId" data-ng-options="p._id as p.name for p in projects">
          </select>
        </p>
      </section>
    </fieldset>

    <fieldset id="parents">
     <legend>Context</legend>
      <section>
        <p>
          <input type="text" onclick="document.getElementById('contextSelector').focus()" readonly="readonly" data-ng-model="contextName" >
          <select id="contextSelector" data-ng-model="task.contextId" data-ng-options="c._id as c.name for c in contexts">
            <option value="">-- Without context --</option>
          </select>
        </p>
      </section>
    </fieldset>

    <fieldset id="dates">
      <legend>Dates</legend>
      <section>
        <p>
          <input type="text" placeholder="Start date" onclick="document.getElementById('startDate').focus()" readonly="readonly" data-ng-model="task.startDate" >
          <input id="startDate" data-ng-model="task.startDate" type="date" dateFix>
          <button type="reset" data-ng-click="task.startDate=null">Clear</button>
        </p>
        <p>
          <input type="text" placeholder="Due date" onclick="document.getElementById('dueDate').focus()" readonly="readonly" data-ng-model="task.dueDate" >
          <input id="dueDate" data-ng-model="task.dueDate" type="date" dateFix>
          <button type="reset">Clear</button>
        </p>
      </section>
    </fieldset>
  </form>
</section>
<form role="dialog" data-type="confirm" data-ng-show="showConfirmation">
  <section>
    <h1>Confirmation</h1>
    <p>Are you sure you want to delete this task?</p>
  </section>
  <menu>
    <button data-ng-click="showConfirmation=false">Cancel</button>
    <button class="danger" data-ng-click="delete()">Delete</button>
  </menu>
</form>

